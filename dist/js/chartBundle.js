(()=>{"use strict";const e=new class{async get(e){const t=await fetch(e);return await t.json()}async post(e,t){const a=await fetch(e,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)});return await a.json()}async update(e,t){const a=await fetch(e,{method:"PUT",body:{"Content-type":"application;/json"},headers:JSON.stringify(t)});return await a.json()}async delete(e){return await fetch(e,{method:"Delete"}),await"Resource Deleted..."}};document.getElementById("burgerMenu").addEventListener("click",(e=>{e.preventDefault(),e.currentTarget.classList.toggle("burgerActive"),document.getElementById("navbar").classList.toggle("menuActive")}));const t=new class{constructor(){this.topNav=document.getElementById("nav-data"),this.total,this.exchanges,document.querySelector("#total")&&document.querySelector("#markets")&&(this.total=document.querySelector("#total").firstElementChild,this.exchanges=document.querySelector("#markets").firstElementChild)}async getMarketData(t){await e.get(t).then((e=>{!function(e,t,a,n){const o=parseFloat(e.data.market_cap_change_percentage_24h_usd).toFixed(2);let c;c=o>0?`<i class="fas fa-caret-up"></i> <b>${o}%</b>`:o<0?`<i class="fas fa-caret-down"></i> <b>${o.replace("-","")}%</b>`:`${o}%`,t.innerHTML=`<li><div><span>Total Market Cap: </span><a href='global.html'>$${parseFloat(e.data.total_market_cap.usd.toFixed(0)).toLocaleString()}</a><span> ${c}</span></div></li>\n  <li>24h Vol: <a href='global.html'>$${parseFloat(e.data.total_volume.usd.toFixed(0)).toLocaleString().replace(".",",")}</a></li>\n  <li>Btc dominance: <b>${parseFloat(e.data.market_cap_percentage.btc).toFixed(2)}%</b></li>`;let i=t.firstChild.firstChild.firstChild.nextElementSibling.nextElementSibling;parseFloat(o)>0?(i.style.color="green",i.querySelector("i").style.color="green"):parseFloat(o)<0?(i.style.color="red",i.querySelector("i").style.color="red"):i.style.color="#333333",a&&n&&(a.innerHTML=`Coins: <span class="span-info">${e.data.active_cryptocurrencies}</span>`,n.innerHTML=`Exchanges: <span class="span-info">${e.data.markets}</span>`)}(e,this.topNav,this.total,this.exchanges)})).catch((e=>{console.log(e),location.reload()})),""!==this.topNav.innerHTML&&void 0!==this.topNav.innerHTML&&null!==this.topNav.innerHTML||location.reload(),setTimeout((function(){const e=document.getElementById("nav-data");""!==e.innerHTML&&void 0!==e.innerHTML&&null!==e.innerHTML||location.reload()}),1e3)}};let a="https://api.coingecko.com/api/v3/coins/bitcoin/market_chart?vs_currency=usd&days=max&interval=daily",n="https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin&order=market_cap_desc";async function o(t,a,n){document.getElementById("loader").className="loader";const c=[t,a],i=[];for(const t of c)await e.get(t).then((e=>{i.push(e)})).catch((e=>{console.log(e),o(t,a,"bitcoin")}));let s;"Price"===n&&(s=i[0].prices),"Market_cap"===n&&(s=i[0].market_caps),"Volume"===n&&(s=i[0].total_volumes),await async function(e,t,a){document.getElementById("chartMain").style.visibility="visible",document.getElementById("footer").style.visibility="visible";const n=document.getElementById("myChart"),o=document.getElementById("coin");a=a.replace("_"," "),n.innerHTML="",o.innerHTML=`\n  <img src="${t[0].image.replace("large","thumb")}" alt="bitcoin">\n  <span>${t[0].name}</span>\n  <span>${t[0].symbol}</span>\n  `;let c,i=parseInt(e[0].slice(0,e[0].indexOf(","))),s=parseInt(e[e.length-1].slice(0,e[0].indexOf(",")));c="Price"===a?"Dogecoin"===t[0].name?6:2:0;const r=new ApexCharts(n,{series:[{name:a,data:e}],chart:{id:"cryptoPrices",type:"area",height:400,fontFamily:"Montserrat, sans-serif",zoom:{autoScaleYaxis:!0}},dataLabels:{enabled:!1,formatter:function(e){return parseInt(e)}},markers:{size:0,style:"hollow"},xaxis:{type:"datetime",min:i,tickAmount:6},yaxis:{labels:{formatter:function(e){return parseFloat(e).toFixed(c).toLocaleString()}}},tooltip:{x:{format:"dd MMM yyyy"}},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,100]}}});r.render();const l=function(e){const t=document.getElementById("toolBar").getElementsByTagName("a");Array.prototype.forEach.call(t,(function(e){e.classList.remove("active")})),e.target.classList.add("active")};document.querySelector("#oneDay").addEventListener("click",(function(e){l(e),r.zoomX((new Date).setDate((new Date).getDate()-1),(new Date).getTime())})),document.querySelector("#oneWeek").addEventListener("click",(function(e){l(e),r.zoomX((new Date).setDate((new Date).getDate()-7),(new Date).getTime())})),document.querySelector("#oneMonth").addEventListener("click",(function(e){l(e),r.zoomX((new Date).setDate((new Date).getDate()-30),(new Date).getTime())})),document.querySelector("#sixMonths").addEventListener("click",(function(e){l(e),r.zoomX((new Date).setDate((new Date).getDate()-182),(new Date).getTime())})),document.querySelector("#oneYear").addEventListener("click",(function(e){l(e),r.zoomX((new Date).setDate((new Date).getDate()-365),(new Date).getTime())})),document.querySelector("#currentYear").addEventListener("click",(function(e){l(e),r.zoomX((new Date).setDate((new Date).getDate()-365),(new Date).getTime())})),document.querySelector("#all").addEventListener("click",(function(e){l(e),r.zoomX(i,s)}))}(s,i[1],n);const r=document.getElementById("myChart").innerHTML;""!==r&&null!=r||location.reload(),document.getElementById("loader").className=""}document.addEventListener("DOMContentLoaded",(function(){t.getMarketData("https://api.coingecko.com/api/v3/global"),o(a,n,"Price"),e.get("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=10&page=1").then((e=>function(e){const t=document.getElementById("coinList");let a=document.createElement("ul");for(const t of e){const e=document.createElement("li");e.id=t.id,e.innerHTML=`<img src="${t.image.replace("large","thumb")}" alt="${t.name}"><span>${t.name}</span><span>${t.symbol}</span>`,a.appendChild(e)}t.appendChild(a)}(e))).catch((e=>console.log(e)))})),Array.from(document.getElementsByClassName("chartData")).map((e=>{e.addEventListener("click",(e=>{e.preventDefault(),o(a,n,e.target.id)}))})),document.getElementById("coinList").addEventListener("click",(function(e){e.preventDefault();const t=e.target.closest("li");t&&(a=`https://api.coingecko.com/api/v3/coins/${t.id}/market_chart?vs_currency=usd&days=max&interval=daily`,n=`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${t.id}&order=market_cap_desc`,o(a,n,"Price"))}))})();